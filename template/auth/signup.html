{% extends 'base.html' %}
{% load static %}
{% block title %} - Register {% endblock %}

{% block content %}
    <section class="container-fluid g-0 justify-content-center align-items-center signup_section py-5">
        <div class="row justify-content-center align-items-center g-0">
            <div class="col-lg-5 col-md-7 justify-content-center align-items-center welcomeStat">
                <div class="text-start header">
                    <div id="headerImgdiv">
                        <a href="{% url 'home' %}"><img src="{% static 'images/logo.png' %}" alt="logo" class="logo"></a>
                    </div>
                    <div class="textDiv">
                        <h1 class="intro_text">Welcome to <br>iSTEM Online<br> Learning Platform</h1><!-- sort this out! -->
                    </div>
                </div>
                <div class="imgDiv d-none d-lg-block">
                    <img src="{% static 'images/auth_vector.png' %}" alt="img">
                </div>
            </div><!-- welcome stat ends here.. -->

            <form class="col-lg-5 col-md-9 d-flex justify-content-center align-items-center" id="form" method="POST" autocomplete="off">
                {% csrf_token %}
                <div class="googleAccountheader sn">
                    <div class="signUpspace align-items-center d-flex">
                        <div class="iconBro sn me-4">
                            <span class="fa fa-google-plus text-light"></span>
                        </div>
                        <span class="lead" id="signtext">Signup with google</span>
                    </div>
                    <div id="choose">
                        <a href="#"> ___Or signup with your email___</a>
                    </div>
                </div>
                {% include 'partials/__messages.html' %}
                <div class="form justify-content-center align-items-center mt-5" id="main-form" name="myForm">


                    <div id="inp-div" class="insert">
                        <label for="name" class="form-label fw-bold labels">Full name</label>
                        <div class="input-group">
                            <div class="input-group-text" id="input-group2">
                                <span class="bi bi-person" id="icon"></span>
                            </div>
                            <input type="text" name="username" class="form-control" placeholder="Esther Roma" id="name">
                        </div>
                    </div>

                    <div id="inp-div">
                        <label for="email" class="form-label fw-bold labels">Email</label>
                        <div class="input-group">
                            <div class="input-group-text" id="input-group2">
                                <span class="bi bi-envelope" id="icon"></span>
                            </div>
                            <input type="email" name="email" class="form-control" placeholder="EstherRoma@example.com" id="email">
                        </div>
                    </div>

                    <div id="inp-div">
                        <label for="address" class="form-label fw-bold labels">Address</label>
                        <div class="input-group">
                            <div class="input-group-text">
                                <span class="bi bi-geo-alt" id="icon"></span>
                            </div>
                            <input type="text" name="address" class="form-control" placeholder="Winston Avenue LA" id="address">
                        </div>
                    </div>
                    
                    <div id="inp-div">
                        <label for="name" class="form-label fw-bold labels">User Category</label>
                        <div class="input-group">
                            <div class="input-group-text" id="input-group2">
                                <span class="bi bi-person" id="icon"></span>
                            </div>
                            <select class="form-select" name="user_category" user-category>
                                <option value="STD">Student</option>
                                <option value="TCH">Teacher</option>
                                <option value="SCH">Parent</option>
                                <option value="PRT">School</option>
                            </select>
                        </div>
                    </div>

                    <div id="inp-div">
                        <label for="lock" class="form-label fw-bold labels">Password</label>
                        <div class="input-group">
                            <div class="input-group-text" id="input-group2">
                                <span class="bi bi-lock" id="icon"></span>
                            </div>
                            <input type="password" name="password1" class="form-control control-two" placeholder="************" id="lock">
                            <div class="input-group-text second">
                                <span class="bi bi-eye-slash"></span>
                            </div>
                        </div>
                    </div>

                    <div id="inp-div">
                        <label for="lock" class="form-label fw-bold labels">Confirm Password</label>
                        <div class="input-group">
                            <div class="input-group-text" id="input-group2">
                                <span class="bi bi-lock" id="icon"></span>
                            </div>
                            <input type="password" name="password2" class="form-control control-two lock-two" placeholder="************" id="lock">
                            <div class="input-group-text second">
                                <span class="bi bi-eye-slash"></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-check text-secondary" id="checkboxDiv">
                        <input type="checkbox" class="form-check-input me-2" id="check" checked>
                        <label for="check" class="form-check-label">I agree to the 
                            <!-- modal trigger -->
                            <a href="#" class="fw-bold" data-bs-toggle="modal" data-bs-target="#TermsandConditions">
                                Terms &
                                Conditions
                            </a>
                        </label>
                    </div>

                    <div class="btnDiv mt-4 text-center">
                        <input type="submit" id="signBtn" value="Sign Up">
                    </div>

                    <div id="anchText">Already have account? <a href="{% url 'login' %}">Sign in</a></div>

                </div><!-- main form ends.. -->
            </form>
            <!-- form container -->
            

        </div>
        <!--main row -->
        <!--terms and conditions modal -->
        <div class="modal fade container-fluid g-0" id="TermsandConditions"data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="TermsandConditionsstaticBackdrop" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header border-0">
                        <div>
                            <h6 class="modal-title">iSTEM.com</h6>
                        </div>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="text-center mb-1 mt-0">
                        <h5 class="modal-title text-center" id="TermsandConditionsLabel">Terms &amp; Conditions</h5>
                    </div>
                    <div class="modal-body pb-5">
                        <div class="textCont px-3">
                            Simple and secure control of your organization's financial and legal Transactions.
                            Lorem ipsum dolor sit amet consectetur adipisicing elit.
                            Quia, nihil? Fuga eum quaerat totam debitis cupiditate nesciunt sunt a dignissimos!
                            Lorem ipsum dolor sit amet consectetur adipisicing elit.
                            Quia, nihil? Fuga eum quaerat totam debitis cupiditate nesciunt sunt a dignissimos!
                            Lorem ipsum dolor sit amet consectetur adipisicing elit.
                            Quia, nihil? Fuga eum quaerat totam debitis cupiditate nesciunt sunt a dignissimos!
                            Lorem ipsum dolor sit amet consectetur adipisicing elit.
                            Quia, nihil? Fuga eum quaerat totam debitis cupiditate nesciunt sunt a dignissimos!
                            Lorem ipsum dolor sit amet consectetur adipisicing elit.
                            Quia, nihil? Fuga eum quaerat totam debitis cupiditate nesciunt sunt a dignissimos!
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </section><!-- main container -->


    {% for field in registration_form %}
    <p>
        {% for error in field.errors %}
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
        <script type="text/javascript" src="{% static 'js/jquery.toast.js' %}"></script>
        <script>
            let MyToast = $.toast({
                heading: 'Oops',
                text: '{{ error }}',
                showHideTransition: 'fade',
                hideAfter: 5000,
                loader: false,
                position: 'bottom-right',
                icon: 'error',
                class: 'larger-font',
                stack : 5,
            })
        </script>
    {% endfor %}
    </p>
    {% endfor %}
    {% if registration_form.non_field_errors %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
        <script type="text/javascript" src="{% static 'js/jquery.toast.js' %}"></script>
        <script>
            let Toast = $.toast({
                heading: 'Perfect',
                text: '{{ registration_form.non_field_errors }}',
                showHideTransition: 'fade',
                hideAfter: 5000,
                loader: false,
                position: 'bottom-right',
                icon: 'success',
                class: 'larger-font',
                stack : 5,
            })
        </script>
    </div>
    {% endif %}


{% endblock %}